(()=>{"use strict";({545:function(){var e=this&&this.__awaiter||function(e,o,t,r){return new(t||(t=Promise))((function(s,n){function c(e){try{i(r.next(e))}catch(e){n(e)}}function a(e){try{i(r.throw(e))}catch(e){n(e)}}function i(e){var o;e.done?s(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(c,a)}i((r=r.apply(e,o||[])).next())}))};function o(o){return e(this,void 0,void 0,(function*(){var e;try{console.log("Testing connection to Ollama server at",o);const t=yield fetch(`${o}/api/tags`);if(t.ok){const o=yield t.json();return console.log("Ollama connection successful. Available models:",null===(e=o.models)||void 0===e?void 0:e.map((e=>e.name)).join(", ")),!0}return console.warn(`Ollama server returned status ${t.status}: ${t.statusText}`),!1}catch(e){return console.warn("Could not connect to Ollama server:",e),!1}}))}chrome.runtime.onInstalled.addListener((e=>{console.log("VibeWrite installed:",e),chrome.storage.sync.set({useDarkMode:!1,autoSuggest:!1,aiProvider:"openai",aiModel:"gpt-4",ollamaBaseUrl:"http://localhost:11434"}).then((()=>{console.log("Default settings initialized"),o("http://localhost:11434")})).catch((e=>{console.error("Error initializing settings:",e)}))})),chrome.runtime.onMessage.addListener(((e,t,r)=>{var s;switch(console.log("Background received message:",e,"from:",t),e.type){case"CHECK_OLLAMA_CONNECTION":return console.log("Checking Ollama connection"),o(e.data.baseUrl||"http://localhost:11434").then((e=>{console.log("Ollama connection result:",e),r({success:!0,isConnected:e})})).catch((e=>{console.error("Error checking Ollama connection:",e),r({success:!1,isConnected:!1,error:e.message})})),!0;case"GET_OLLAMA_MODELS":console.log("Getting available Ollama models");const n=e.data.baseUrl||"http://localhost:11434";return fetch(`${n}/api/tags`).then((e=>{if(!e.ok)throw new Error(`Ollama server returned ${e.status}: ${e.statusText}`);return e.json()})).then((e=>{console.log("Available Ollama models:",e),r({success:!0,models:e.models||[]})})).catch((e=>{console.error("Error getting Ollama models:",e),r({success:!1,error:e.message})})),!0;case"OLLAMA_API_REQUEST":console.log("Processing Ollama API request in background");const{baseUrl:c,model:a,prompt:i}=e.data;return fetch(`${c}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:a,prompt:i,stream:!1,options:{temperature:.7,num_predict:500}})}).then((e=>{if(!e.ok)throw new Error(`Ollama server returned ${e.status}: ${e.statusText}`);return e.json()})).then((e=>{console.log("Ollama API response received:",e),r({success:!0,data:e})})).catch((e=>{console.error("Error in Ollama API call:",e),r({success:!1,error:e.message})})),!0;case"GET_API_KEY":return chrome.storage.sync.get("openaiApiKey").then((e=>{r({success:!0,data:e.openaiApiKey||""})})).catch((e=>{console.error("Error getting API key:",e),r({success:!1,error:"Failed to retrieve API key"})})),!0;case"ANALYZE_DOCUMENT":return t.tab&&t.tab.id?(chrome.tabs.sendMessage(t.tab.id,{type:"ANALYZE_DOCUMENT"}).then((()=>{console.log("Forwarded ANALYZE_DOCUMENT message to content script"),r({success:!0})})).catch((e=>{console.error("Error forwarding ANALYZE_DOCUMENT message:",e),r({success:!1,error:"Failed to forward message"})})),!0):(chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var o;(null===(o=e[0])||void 0===o?void 0:o.id)?chrome.tabs.sendMessage(e[0].id,{type:"ANALYZE_DOCUMENT"}).then((()=>{console.log("Forwarded ANALYZE_DOCUMENT to active tab"),r({success:!0})})).catch((e=>{console.error("Error forwarding to active tab:",e),r({success:!1,error:"Failed to forward message"})})):r({success:!1,error:"No active tab found"})})),!0);case"TOGGLE_SIDEBAR":return(null===(s=t.tab)||void 0===s?void 0:s.id)?chrome.tabs.sendMessage(t.tab.id,{type:"TOGGLE_SIDEBAR"}).then((e=>{r(e)})).catch((e=>{console.error("Error toggling sidebar:",e),r({success:!1,error:"Failed to toggle sidebar"})})):chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var o;(null===(o=e[0])||void 0===o?void 0:o.id)?chrome.tabs.sendMessage(e[0].id,{type:"PING"}).then((()=>chrome.tabs.sendMessage(e[0].id,{type:"TOGGLE_SIDEBAR"}))).then((e=>{r(e)})).catch((()=>{var o;(null===(o=e[0].url)||void 0===o?void 0:o.startsWith("https://docs.google.com/document/"))?chrome.scripting.executeScript({target:{tabId:e[0].id},files:["content.js"]}).then((()=>{setTimeout((()=>{chrome.tabs.sendMessage(e[0].id,{type:"TOGGLE_SIDEBAR"}).then((e=>{r(e)})).catch((e=>{console.error("Error after script injection:",e),r({success:!1,error:"Failed after script injection"})}))}),500)})).catch((e=>{console.error("Error injecting content script:",e),r({success:!1,error:"Failed to inject content script"})})):r({success:!1,error:"Not a Google Docs page"})})):r({success:!1,error:"No active tab found"})})),!0;case"GET_DOCUMENT_CONTENT_FROM_BACKGROUND":return console.log("Background script received GET_DOCUMENT_CONTENT_FROM_BACKGROUND"),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var o;(null===(o=e[0])||void 0===o?void 0:o.id)?(console.log(`Sending GET_DOCUMENT_CONTENT to tab ${e[0].id}`),chrome.tabs.sendMessage(e[0].id,{type:"GET_DOCUMENT_CONTENT"}).then((e=>{var o;console.log("Got response from content script:",e),(null==e?void 0:e.success)&&(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.content)?r({success:!0,data:{content:e.data.content}}):r({success:!1,data:{error:"Failed to retrieve document content"}})})).catch((e=>{console.error("Error sending message to content script:",e),r({success:!1,data:{error:"Communication with content script failed"}})}))):(console.error("No active tab found"),r({success:!1,data:{error:"No active tab found"}}))})),!0;case"GET_DOCUMENT_CONTENT_RELAY":return console.log("Background script relaying document content request to active tab"),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var o;(null===(o=e[0])||void 0===o?void 0:o.id)&&chrome.tabs.sendMessage(e[0].id,{type:"GET_DOCUMENT_CONTENT_RELAY",source:"background"}).catch((e=>{console.error("Error relaying message to tab:",e)}))})),!1;default:return console.log("Unknown message type:",e.type),r({success:!1,error:"Unknown message type"}),!0}}))}})[545]()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEJBQy9CLEVBQ2YsRyxJQ2pYZ0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmV3cml0ZS8uL3NyYy9iYWNrZ3JvdW5kL2luZGV4LnRzIiwid2VicGFjazovL3ZpYmV3cml0ZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEJhY2tncm91bmQgU2NyaXB0IGZvciBWaWJlV3JpdGUgZXh0ZW5zaW9uXG4gKlxuICogVGhpcyBzY3JpcHQgcnVucyBpbiB0aGUgYmFja2dyb3VuZCBhbmQgaGFuZGxlcyBjb21tdW5pY2F0aW9uIGJldHdlZW5cbiAqIHBvcHVwLCBjb250ZW50IHNjcmlwdHMsIGFuZCB0aGUgc2VydmVyLlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbi8vIExpc3RlbiBmb3IgaW5zdGFsbGF0aW9uIGV2ZW50c1xuY2hyb21lLnJ1bnRpbWUub25JbnN0YWxsZWQuYWRkTGlzdGVuZXIoKGRldGFpbHMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlZpYmVXcml0ZSBpbnN0YWxsZWQ6XCIsIGRldGFpbHMpOyAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmNcbiAgICAgICAgLnNldCh7XG4gICAgICAgIHVzZURhcmtNb2RlOiBmYWxzZSxcbiAgICAgICAgYXV0b1N1Z2dlc3Q6IGZhbHNlLFxuICAgICAgICBhaVByb3ZpZGVyOiBcIm9wZW5haVwiLFxuICAgICAgICBhaU1vZGVsOiBcImdwdC00XCIsXG4gICAgICAgIG9sbGFtYUJhc2VVcmw6IFwiaHR0cDovL2xvY2FsaG9zdDoxMTQzNFwiLFxuICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJEZWZhdWx0IHNldHRpbmdzIGluaXRpYWxpemVkXCIpO1xuICAgICAgICAvLyBUZXN0IE9sbGFtYSBjb25uZWN0aXZpdHkgb24gaW5zdGFsbFxuICAgICAgICBjaGVja09sbGFtYUNvbm5lY3Rpb24oXCJodHRwOi8vbG9jYWxob3N0OjExNDM0XCIpO1xuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBzZXR0aW5nczpcIiwgZXJyb3IpO1xuICAgIH0pO1xufSk7XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgT2xsYW1hIHNlcnZlciBpcyBhY2Nlc3NpYmxlXG5mdW5jdGlvbiBjaGVja09sbGFtYUNvbm5lY3Rpb24oYmFzZVVybCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGVzdGluZyBjb25uZWN0aW9uIHRvIE9sbGFtYSBzZXJ2ZXIgYXRcIiwgYmFzZVVybCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2Jhc2VVcmx9L2FwaS90YWdzYCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT2xsYW1hIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bC4gQXZhaWxhYmxlIG1vZGVsczpcIiwgKF9hID0gZGF0YS5tb2RlbHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoKG0pID0+IG0ubmFtZSkuam9pbihcIiwgXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgT2xsYW1hIHNlcnZlciByZXR1cm5lZCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IGNvbm5lY3QgdG8gT2xsYW1hIHNlcnZlcjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyBIYW5kbGUgbWVzc2FnZXMgZnJvbSBjb250ZW50IHNjcmlwdHMgYW5kIHBvcHVwXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnNvbGUubG9nKFwiQmFja2dyb3VuZCByZWNlaXZlZCBtZXNzYWdlOlwiLCBtZXNzYWdlLCBcImZyb206XCIsIHNlbmRlcik7XG4gICAgLy8gSGFuZGxlIGRpZmZlcmVudCBtZXNzYWdlIHR5cGVzXG4gICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIkNIRUNLX09MTEFNQV9DT05ORUNUSU9OXCI6XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIE9sbGFtYSBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbWVzc2FnZS5kYXRhLmJhc2VVcmwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjExNDM0XCI7XG4gICAgICAgICAgICBjaGVja09sbGFtYUNvbm5lY3Rpb24odXJsKVxuICAgICAgICAgICAgICAgIC50aGVuKChpc0Nvbm5lY3RlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT2xsYW1hIGNvbm5lY3Rpb24gcmVzdWx0OlwiLCBpc0Nvbm5lY3RlZCk7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQ6IGlzQ29ubmVjdGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIE9sbGFtYSBjb25uZWN0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBJbXBvcnRhbnQ6IGluZGljYXRlcyB3ZSdsbCByZXNwb25kIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIGNhc2UgXCJHRVRfT0xMQU1BX01PREVMU1wiOlxuICAgICAgICAgICAgLy8gR2V0IGF2YWlsYWJsZSBtb2RlbHMgZnJvbSBPbGxhbWFcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2V0dGluZyBhdmFpbGFibGUgT2xsYW1hIG1vZGVsc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsVXJsID0gbWVzc2FnZS5kYXRhLmJhc2VVcmwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjExNDM0XCI7XG4gICAgICAgICAgICBmZXRjaChgJHttb2RlbFVybH0vYXBpL3RhZ3NgKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPbGxhbWEgc2VydmVyIHJldHVybmVkICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXZhaWxhYmxlIE9sbGFtYSBtb2RlbHM6XCIsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsczogZGF0YS5tb2RlbHMgfHwgW10sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBPbGxhbWEgbW9kZWxzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSW1wb3J0YW50OiBpbmRpY2F0ZXMgd2UnbGwgcmVzcG9uZCBhc3luY2hyb25vdXNseVxuICAgICAgICBjYXNlIFwiT0xMQU1BX0FQSV9SRVFVRVNUXCI6XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlByb2Nlc3NpbmcgT2xsYW1hIEFQSSByZXF1ZXN0IGluIGJhY2tncm91bmRcIik7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IE9sbGFtYSBBUEkgcmVxdWVzdCBkZXRhaWxzXG4gICAgICAgICAgICBjb25zdCB7IGJhc2VVcmwsIG1vZGVsLCBwcm9tcHQgfSA9IG1lc3NhZ2UuZGF0YTtcbiAgICAgICAgICAgIC8vIE1ha2UgdGhlIE9sbGFtYSBBUEkgY2FsbCBmcm9tIHRoZSBiYWNrZ3JvdW5kIHNjcmlwdCB0byBhdm9pZCBDT1JTXG4gICAgICAgICAgICBmZXRjaChgJHtiYXNlVXJsfS9hcGkvZ2VuZXJhdGVgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0LFxuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtX3ByZWRpY3Q6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9sbGFtYSBzZXJ2ZXIgcmV0dXJuZWQgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPbGxhbWEgQVBJIHJlc3BvbnNlIHJlY2VpdmVkOlwiLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIE9sbGFtYSBBUEkgY2FsbDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEltcG9ydGFudDogaW5kaWNhdGVzIHdlJ2xsIHJlc3BvbmQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgY2FzZSBcIkdFVF9BUElfS0VZXCI6XG4gICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jXG4gICAgICAgICAgICAgICAgLmdldChcIm9wZW5haUFwaUtleVwiKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQub3BlbmFpQXBpS2V5IHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBBUEkga2V5OlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byByZXRyaWV2ZSBBUEkga2V5XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBJbXBvcnRhbnQ6IGluZGljYXRlcyB3ZSdsbCByZXNwb25kIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIGNhc2UgXCJBTkFMWVpFX0RPQ1VNRU5UXCI6XG4gICAgICAgICAgICAvLyBGb3J3YXJkIHRoZSBhbmFseXplIGRvY3VtZW50IG1lc3NhZ2UgdG8gdGhlIGNvbnRlbnQgc2NyaXB0XG4gICAgICAgICAgICBpZiAoc2VuZGVyLnRhYiAmJiBzZW5kZXIudGFiLmlkKSB7XG4gICAgICAgICAgICAgICAgY2hyb21lLnRhYnNcbiAgICAgICAgICAgICAgICAgICAgLnNlbmRNZXNzYWdlKHNlbmRlci50YWIuaWQsIHsgdHlwZTogXCJBTkFMWVpFX0RPQ1VNRU5UXCIgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZvcndhcmRlZCBBTkFMWVpFX0RPQ1VNRU5UIG1lc3NhZ2UgdG8gY29udGVudCBzY3JpcHRcIik7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZm9yd2FyZGluZyBBTkFMWVpFX0RPQ1VNRU5UIG1lc3NhZ2U6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIGZvcndhcmQgbWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3JlIHJlY2VpdmluZyBmcm9tIHRoZSBjb250ZW50IHNjcmlwdCwgZm9yd2FyZCB0byB0aGUgYWN0aXZlIHRhYlxuICAgICAgICAgICAgICAgIGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlIH0sICh0YWJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChfYSA9IHRhYnNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hyb21lLnRhYnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VuZE1lc3NhZ2UodGFic1swXS5pZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQU5BTFlaRV9ET0NVTUVOVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGb3J3YXJkZWQgQU5BTFlaRV9ET0NVTUVOVCB0byBhY3RpdmUgdGFiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZm9yd2FyZGluZyB0byBhY3RpdmUgdGFiOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byBmb3J3YXJkIG1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogXCJObyBhY3RpdmUgdGFiIGZvdW5kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJUT0dHTEVfU0lERUJBUlwiOlxuICAgICAgICAgICAgLy8gSGFuZGxlIHRvZ2dsaW5nIHRoZSBzaWRlYmFyIGluIHRoZSBjb250ZW50IHNjcmlwdFxuICAgICAgICAgICAgaWYgKChfYSA9IHNlbmRlci50YWIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZCkge1xuICAgICAgICAgICAgICAgIGNocm9tZS50YWJzXG4gICAgICAgICAgICAgICAgICAgIC5zZW5kTWVzc2FnZShzZW5kZXIudGFiLmlkLCB7IHR5cGU6IFwiVE9HR0xFX1NJREVCQVJcIiB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB0b2dnbGluZyBzaWRlYmFyOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byB0b2dnbGUgc2lkZWJhclwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluamVjdCBjb250ZW50IHNjcmlwdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISgoX2EgPSB0YWJzWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBcIk5vIGFjdGl2ZSB0YWIgZm91bmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNvbnRlbnQgc2NyaXB0IGlzIGFscmVhZHkgaW5qZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnRhYnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZW5kTWVzc2FnZSh0YWJzWzBdLmlkLCB7IHR5cGU6IFwiUElOR1wiIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250ZW50IHNjcmlwdCBpcyBhbHJlYWR5IGluamVjdGVkLCB0b2dnbGUgc2lkZWJhclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYnNbMF0uaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlRPR0dMRV9TSURFQkFSXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250ZW50IHNjcmlwdCBub3QgaW5qZWN0ZWQsIGNoZWNrIGlmIHdlJ3JlIG9uIEdvb2dsZSBEb2NzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKF9hID0gdGFic1swXS51cmwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5qZWN0IGNvbnRlbnQgc2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hyb21lLnNjcmlwdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXhlY3V0ZVNjcmlwdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogeyB0YWJJZDogdGFic1swXS5pZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlczogW1wiY29udGVudC5qc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgYSBiaXQgZm9yIGNvbnRlbnQgc2NyaXB0IHRvIGluaXRpYWxpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFic1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZW5kTWVzc2FnZSh0YWJzWzBdLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJUT0dHTEVfU0lERUJBUlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFmdGVyIHNjcmlwdCBpbmplY3Rpb246XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IFwiRmFpbGVkIGFmdGVyIHNjcmlwdCBpbmplY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluamVjdGluZyBjb250ZW50IHNjcmlwdDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gaW5qZWN0IGNvbnRlbnQgc2NyaXB0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBcIk5vdCBhIEdvb2dsZSBEb2NzIHBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcIkdFVF9ET0NVTUVOVF9DT05URU5UX0ZST01fQkFDS0dST1VORFwiOlxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCYWNrZ3JvdW5kIHNjcmlwdCByZWNlaXZlZCBHRVRfRE9DVU1FTlRfQ09OVEVOVF9GUk9NX0JBQ0tHUk9VTkRcIik7XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgYmFja2dyb3VuZCBzY3JpcHQgY2FuJ3QgYWNjZXNzIHRoZSBkb2N1bWVudCBkaXJlY3RseSxcbiAgICAgICAgICAgIC8vIHdlJ2xsIG5lZWQgdG8gcmVsYXkgdGhpcyB0byB0aGUgY29udGVudCBzY3JpcHQgaW4gdGhlIGFjdGl2ZSB0YWJcbiAgICAgICAgICAgIGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlIH0sICh0YWJzKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICgoX2EgPSB0YWJzWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFNlbmRpbmcgR0VUX0RPQ1VNRU5UX0NPTlRFTlQgdG8gdGFiICR7dGFic1swXS5pZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnRhYnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZW5kTWVzc2FnZSh0YWJzWzBdLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVF9ET0NVTUVOVF9DT05URU5UXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR290IHJlc3BvbnNlIGZyb20gY29udGVudCBzY3JpcHQ6XCIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnN1Y2Nlc3MpICYmICgoX2EgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBjb250ZW50OiByZXNwb25zZS5kYXRhLmNvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gcmV0cmlldmUgZG9jdW1lbnQgY29udGVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNlbmRpbmcgbWVzc2FnZSB0byBjb250ZW50IHNjcmlwdDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBcIkNvbW11bmljYXRpb24gd2l0aCBjb250ZW50IHNjcmlwdCBmYWlsZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGFjdGl2ZSB0YWIgZm91bmRcIik7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3I6IFwiTm8gYWN0aXZlIHRhYiBmb3VuZFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFdlIHdpbGwgc2VuZCByZXNwb25zZSBhc3luY2hyb25vdXNseVxuICAgICAgICBjYXNlIFwiR0VUX0RPQ1VNRU5UX0NPTlRFTlRfUkVMQVlcIjpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQmFja2dyb3VuZCBzY3JpcHQgcmVsYXlpbmcgZG9jdW1lbnQgY29udGVudCByZXF1ZXN0IHRvIGFjdGl2ZSB0YWJcIik7XG4gICAgICAgICAgICAvLyBGaW5kIGFjdGl2ZSB0YWIgYW5kIHJlbGF5IHRoZSBtZXNzYWdlXG4gICAgICAgICAgICBjaHJvbWUudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9LCAodGFicykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoKF9hID0gdGFic1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS50YWJzXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VuZE1lc3NhZ2UodGFic1swXS5pZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHRVRfRE9DVU1FTlRfQ09OVEVOVF9SRUxBWVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcImJhY2tncm91bmRcIixcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWxheWluZyBtZXNzYWdlIHRvIHRhYjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm8gcmVzcG9uc2UgbmVlZGVkXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gbWVzc2FnZSB0eXBlOlwiLCBtZXNzYWdlLnR5cGUpO1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVua25vd24gbWVzc2FnZSB0eXBlXCIgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59KTtcbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0ge307XG5fX3dlYnBhY2tfbW9kdWxlc19fWzU0NV0oKTtcbiJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsImNoZWNrT2xsYW1hQ29ubmVjdGlvbiIsImJhc2VVcmwiLCJfYSIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJkYXRhIiwianNvbiIsIm1vZGVscyIsIm1hcCIsIm0iLCJuYW1lIiwiam9pbiIsIndhcm4iLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZXJyb3IiLCJjaHJvbWUiLCJydW50aW1lIiwib25JbnN0YWxsZWQiLCJhZGRMaXN0ZW5lciIsImRldGFpbHMiLCJzdG9yYWdlIiwic3luYyIsInNldCIsInVzZURhcmtNb2RlIiwiYXV0b1N1Z2dlc3QiLCJhaVByb3ZpZGVyIiwiYWlNb2RlbCIsIm9sbGFtYUJhc2VVcmwiLCJjYXRjaCIsIm9uTWVzc2FnZSIsIm1lc3NhZ2UiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJ0eXBlIiwiaXNDb25uZWN0ZWQiLCJzdWNjZXNzIiwibW9kZWxVcmwiLCJFcnJvciIsIm1vZGVsIiwicHJvbXB0IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RyZWFtIiwib3B0aW9ucyIsInRlbXBlcmF0dXJlIiwibnVtX3ByZWRpY3QiLCJnZXQiLCJvcGVuYWlBcGlLZXkiLCJ0YWIiLCJpZCIsInRhYnMiLCJzZW5kTWVzc2FnZSIsInF1ZXJ5IiwiYWN0aXZlIiwiY3VycmVudFdpbmRvdyIsInVybCIsInN0YXJ0c1dpdGgiLCJzY3JpcHRpbmciLCJleGVjdXRlU2NyaXB0IiwidGFyZ2V0IiwidGFiSWQiLCJmaWxlcyIsInNldFRpbWVvdXQiLCJjb250ZW50Iiwic291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==